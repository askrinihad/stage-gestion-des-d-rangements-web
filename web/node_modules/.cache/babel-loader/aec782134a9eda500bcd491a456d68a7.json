{"ast":null,"code":"import React, { useCallback, useState, useMemo, useRef, useContext, useEffect, useReducer, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\nconst menuContainerClass = 'rc-menu-container';\nconst menuClass = 'rc-menu';\nconst menuButtonClass = 'rc-menu-button';\nconst menuArrowClass = 'arrow';\nconst menuItemClass = 'item';\nconst menuDividerClass = 'divider';\nconst menuHeaderClass = 'header';\nconst subMenuClass = 'submenu';\nconst radioGroupClass = 'radio-group';\nconst initialHoverIndex = -1;\nconst MenuListContext = /*#__PURE__*/React.createContext({\n  hoverIndex: initialHoverIndex\n});\nconst EventHandlersContext = /*#__PURE__*/React.createContext({});\nconst RadioGroupContext = /*#__PURE__*/React.createContext({});\nconst SettingsContext = /*#__PURE__*/React.createContext({});\nconst Keys = Object.freeze({\n  'ENTER': 'Enter',\n  'ESC': 'Escape',\n  'SPACE': ' ',\n  'HOME': 'Home',\n  'END': 'End',\n  'LEFT': 'ArrowLeft',\n  'RIGHT': 'ArrowRight',\n  'UP': 'ArrowUp',\n  'DOWN': 'ArrowDown'\n});\nconst HoverIndexActionTypes = Object.freeze({\n  'RESET': 0,\n  'SET': 1,\n  'UNSET': 2,\n  'INCREASE': 3,\n  'DECREASE': 4,\n  'FIRST': 5,\n  'LAST': 6\n});\nconst CloseReason = Object.freeze({\n  'CLICK': 'click',\n  'CANCEL': 'cancel',\n  'BLUR': 'blur',\n  'RESIZE': 'resize',\n  'SCROLL': 'scroll'\n});\n\nconst stylePropTypes = name => ({\n  [name ? `${name}ClassName` : 'className']: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  [name ? `${name}Styles` : 'styles']: PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n});\n\nconst sharedMenuPropTypes = { ...stylePropTypes(),\n  ...stylePropTypes('arrow'),\n  'aria-label': PropTypes.string,\n  arrow: PropTypes.bool,\n  offsetX: PropTypes.number,\n  offsetY: PropTypes.number,\n  align: PropTypes.oneOf(['start', 'center', 'end']),\n  direction: PropTypes.oneOf(['left', 'right', 'top', 'bottom']),\n  position: PropTypes.oneOf(['auto', 'anchor', 'initial']),\n  overflow: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n  children: PropTypes.node.isRequired\n};\nconst menuPropTypesBase = { ...sharedMenuPropTypes,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  animation: PropTypes.bool,\n  debugging: PropTypes.bool,\n  viewScroll: PropTypes.oneOf(['auto', 'close', 'initial']),\n  onClick: PropTypes.func\n};\nconst sharedMenuDefaultProp = {\n  offsetX: 0,\n  offsetY: 0,\n  align: 'start',\n  direction: 'bottom',\n  position: 'auto',\n  overflow: 'visible'\n};\nconst menuDefaultPropsBase = { ...sharedMenuDefaultProp,\n  animation: true,\n  viewScroll: 'initial'\n};\n\nconst defineName = (component, name) => Object.defineProperty(component, '__name__', {\n  value: name,\n  writable: false\n});\n\nconst safeCall = (fn, ...args) => typeof fn === 'function' ? fn(...args) : fn;\n\nconst attachHandlerProps = (handlers, props) => {\n  const result = {};\n\n  for (const handlerName of Object.keys(handlers)) {\n    const handler = handlers[handlerName];\n    const propHandler = props[handlerName];\n    let attachedHandler;\n\n    if (typeof propHandler === 'function') {\n      attachedHandler = e => {\n        propHandler(e);\n        handler(e);\n      };\n    } else {\n      attachedHandler = handler;\n    }\n\n    result[handlerName] = attachedHandler;\n  }\n\n  return result;\n};\n\nconst bem = (block, element, modifiers = {}) => (userClassName, userModifiers) => {\n  let blockElement = element ? `${block}__${element}` : block;\n  let className = blockElement;\n\n  for (const name of Object.keys(modifiers)) {\n    const value = modifiers[name];\n\n    if (value) {\n      className += ` ${blockElement}--`;\n      className += value === true ? name : `${name}-${value}`;\n    }\n  }\n\n  if (typeof userClassName === 'function') {\n    userClassName = userClassName(userModifiers || modifiers);\n  }\n\n  if (typeof userClassName === 'string') {\n    userClassName = userClassName.trim();\n    if (userClassName) className += ` ${userClassName}`;\n  }\n\n  return className;\n};\n\nconst isObject = obj => obj && typeof obj === 'object';\n\nconst flatStyles = (styles, modifiers) => {\n  if (typeof styles === 'function') return styles(modifiers);\n  if (!isObject(styles)) return undefined;\n  if (!modifiers) return styles;\n  const style = {};\n\n  for (const prop of Object.keys(styles)) {\n    const value = styles[prop];\n\n    if (isObject(value)) {\n      const modifierValue = modifiers[prop];\n\n      if (typeof modifierValue === 'string') {\n        for (const nestedProp of Object.keys(value)) {\n          const nestedValue = value[nestedProp];\n\n          if (isObject(nestedValue)) {\n            if (nestedProp === modifierValue) {\n              Object.assign(style, nestedValue);\n            }\n          } else {\n            style[nestedProp] = nestedValue;\n          }\n        }\n      } else if (modifierValue) {\n        Object.assign(style, value);\n      }\n    } else {\n      style[prop] = value;\n    }\n  }\n\n  return style;\n};\n\nconst useActiveState = (isHovering, isDisabled, customKey) => {\n  const [active, setActive] = useState(false);\n  const activeKeys = useMemo(() => [Keys.SPACE, Keys.ENTER, ...(customKey ? [customKey] : [])], [customKey]);\n  const cancelActive = useCallback(() => setActive(false), []);\n  return {\n    isActive: active,\n    onPointerDown: useCallback(() => {\n      if (!isDisabled) setActive(true);\n    }, [isDisabled]),\n    onPointerUp: cancelActive,\n    onPointerLeave: cancelActive,\n    onKeyDown: useCallback(e => {\n      if (isHovering && !isDisabled && activeKeys.includes(e.key)) {\n        setActive(true);\n      }\n    }, [isHovering, isDisabled, activeKeys]),\n    onKeyUp: useCallback(e => {\n      if (activeKeys.includes(e.key)) {\n        setActive(false);\n      }\n    }, [activeKeys]),\n    onBlur: useCallback(e => {\n      if (!e.currentTarget.contains(e.relatedTarget)) {\n        setActive(false);\n      }\n    }, [])\n  };\n};\n\nconst useItemState = (disabled, index) => {\n  const ref = useRef(null);\n  const {\n    isParentOpen,\n    hoverIndex,\n    hoverIndexDispatch\n  } = useContext(MenuListContext);\n  const isHovering = hoverIndex === index;\n  const isDisabled = disabled ? true : undefined;\n  useEffect(() => {\n    if (isHovering && isParentOpen) {\n      ref.current && ref.current.focus();\n    }\n  }, [isHovering, isParentOpen]);\n  return {\n    ref,\n    isHovering,\n    isDisabled,\n    setHover: useCallback(() => {\n      if (!isDisabled) hoverIndexDispatch({\n        type: HoverIndexActionTypes.SET,\n        index\n      });\n    }, [isDisabled, hoverIndexDispatch, index]),\n    unsetHover: useCallback(() => {\n      hoverIndexDispatch({\n        type: HoverIndexActionTypes.UNSET,\n        index\n      });\n    }, [hoverIndexDispatch, index])\n  };\n};\n\nconst useMenuChange = (onChange, isOpen) => {\n  const prevOpen = useRef(isOpen);\n  useEffect(() => {\n    if (prevOpen.current !== isOpen) safeCall(onChange, {\n      open: isOpen\n    });\n    prevOpen.current = isOpen;\n  }, [onChange, isOpen]);\n};\n\nconst FocusPositions = Object.freeze({\n  'INITIAL': 'initial',\n  'FIRST': 'first',\n  'LAST': 'last'\n});\nconst MenuStates = Object.freeze({\n  'UNMOUNTED': 0,\n  'CLOSED': 1,\n  'OPEN': 2\n});\nconst MenuStateActionType = Object.freeze({\n  'OPEN': 0,\n  'CLOSE': 1,\n  'TOGGLE': 2\n});\n\nconst useMenuState = (keepMounted = true) => {\n  const [menuItemFocus, setMenuItemFocus] = useState({\n    position: FocusPositions.INITIAL\n  });\n  const [menuState, dispatch] = useReducer(menuStateReducer, MenuStates.UNMOUNTED);\n\n  function menuStateReducer(state, {\n    type\n  }) {\n    switch (type) {\n      case MenuStateActionType.OPEN:\n        return MenuStates.OPEN;\n\n      case MenuStateActionType.CLOSE:\n        if (state === MenuStates.OPEN) {\n          return keepMounted ? MenuStates.CLOSED : MenuStates.UNMOUNTED;\n        } else {\n          return state;\n        }\n\n      case MenuStateActionType.TOGGLE:\n        if (state === MenuStates.OPEN) {\n          return keepMounted ? MenuStates.CLOSED : MenuStates.UNMOUNTED;\n        } else {\n          return MenuStates.OPEN;\n        }\n\n      default:\n        throw new Error('menuStateReducer: unknown action type');\n    }\n  }\n\n  return {\n    isMounted: menuState !== MenuStates.UNMOUNTED,\n    isOpen: menuState === MenuStates.OPEN,\n    menuItemFocus,\n    openMenu: useCallback((menuItemFocus = FocusPositions.INITIAL) => {\n      setMenuItemFocus({\n        position: menuItemFocus\n      });\n      dispatch({\n        type: MenuStateActionType.OPEN\n      });\n    }, []),\n    closeMenu: useCallback(() => dispatch({\n      type: MenuStateActionType.CLOSE\n    }), []),\n    toggleMenu: useCallback((menuItemFocus = FocusPositions.INITIAL) => {\n      setMenuItemFocus({\n        position: menuItemFocus\n      });\n      dispatch({\n        type: MenuStateActionType.TOGGLE\n      });\n    }, [])\n  };\n};\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\nconst MenuButton = defineName( /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function MenuButton({\n  className,\n  styles,\n  isOpen,\n  disabled,\n  children,\n  ...restProps\n}, ref) {\n  const modifiers = Object.freeze({\n    open: isOpen\n  });\n  return /*#__PURE__*/React.createElement(\"button\", Object.assign({\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": isOpen,\n    \"aria-disabled\": disabled,\n    disabled: disabled\n  }, restProps, {\n    ref: ref,\n    className: bem(menuButtonClass, null, modifiers)(className),\n    style: flatStyles(styles, modifiers)\n  }), children);\n})), 'MenuButton');\nMenuButton.propTypes = { ...stylePropTypes(),\n  isOpen: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\nconst MenuList = defineName( /*#__PURE__*/React.memo(function MenuList({\n  ariaLabel,\n  className,\n  styles,\n  arrowClassName,\n  arrowStyles,\n  anchorPoint,\n  anchorRef,\n  containerRef,\n  arrow,\n  align,\n  direction,\n  position,\n  overflow,\n  isOpen,\n  isMounted,\n  isDisabled,\n  menuItemFocus,\n  offsetX,\n  offsetY,\n  children,\n  onClose,\n  ...restProps\n}) {\n  const [menuPosition, setMenuPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [arrowPosition, setArrowPosition] = useState({});\n  const [maxHeight, setMaxHeight] = useState(-1);\n  const [isClosing, setClosing] = useState(false);\n  const [expandedDirection, setExpandedDirection] = useState(direction);\n  const {\n    animation,\n    viewScroll\n  } = useContext(SettingsContext);\n  const menuRef = useRef(null);\n  const arrowRef = useRef(null);\n  const menuItemsCount = useRef(0);\n  const prevOpen = useRef(isOpen);\n  const [hoverIndex, hoverIndexDispatch] = useReducer(hoverIndexReducer, initialHoverIndex);\n\n  function hoverIndexReducer(state, {\n    type,\n    index\n  }) {\n    switch (type) {\n      case HoverIndexActionTypes.RESET:\n        return initialHoverIndex;\n\n      case HoverIndexActionTypes.SET:\n        return index;\n\n      case HoverIndexActionTypes.UNSET:\n        return state === index ? initialHoverIndex : state;\n\n      case HoverIndexActionTypes.DECREASE:\n        {\n          let i = state;\n          i--;\n          if (i < 0) i = menuItemsCount.current - 1;\n          return i;\n        }\n\n      case HoverIndexActionTypes.INCREASE:\n        {\n          let i = state;\n          i++;\n          if (i >= menuItemsCount.current) i = 0;\n          return i;\n        }\n\n      case HoverIndexActionTypes.FIRST:\n        return menuItemsCount.current > 0 ? 0 : initialHoverIndex;\n\n      case HoverIndexActionTypes.LAST:\n        return menuItemsCount.current > 0 ? menuItemsCount.current - 1 : initialHoverIndex;\n\n      default:\n        throw new Error('hoverIndexReducer: unknown action type');\n    }\n  }\n\n  const menuItems = useMemo(() => {\n    if (!isMounted) return null;\n    let index = 0;\n    const permittedChildren = ['MenuDivider', 'MenuHeader', 'MenuItem', 'FocusableItem', 'MenuRadioGroup', 'SubMenu'];\n\n    const validateChildren = (parent, child, permitted) => {\n      if (!permitted.includes(child.type && child.type.__name__)) {\n        console.warn(`${child.type || child} is ignored.\\n`, `The permitted children inside a ${parent} are ${permitted.join(', ')}.`);\n        return false;\n      }\n\n      return true;\n    };\n\n    const items = React.Children.map(children, child => {\n      if (!validateChildren('Menu or SubMenu', child, permittedChildren)) return null;\n\n      if (child.type.__name__ === 'MenuDivider' || child.type.__name__ === 'MenuHeader') {\n        return child;\n      } else if (child.type.__name__ === 'MenuRadioGroup') {\n        const permittedChildren = ['MenuItem'];\n        const props = {\n          type: 'radio'\n        };\n        const radioItems = React.Children.map(child.props.children, radioChild => {\n          if (!validateChildren('MenuRadioGroup', radioChild, permittedChildren)) return null;\n          return radioChild.props.disabled ? /*#__PURE__*/React.cloneElement(radioChild, props) : /*#__PURE__*/React.cloneElement(radioChild, { ...props,\n            index: index++\n          });\n        });\n        return /*#__PURE__*/React.cloneElement(child, {\n          children: radioItems\n        });\n      } else {\n        return child.props.disabled ? child : /*#__PURE__*/React.cloneElement(child, {\n          index: index++\n        });\n      }\n    });\n    menuItemsCount.current = index;\n    return items;\n  }, [isMounted, children]);\n\n  const handleKeyDown = e => {\n    let handled = false;\n\n    switch (e.key) {\n      case Keys.HOME:\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.FIRST\n        });\n        handled = true;\n        break;\n\n      case Keys.END:\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.LAST\n        });\n        handled = true;\n        break;\n\n      case Keys.UP:\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.DECREASE\n        });\n        handled = true;\n        break;\n\n      case Keys.DOWN:\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.INCREASE\n        });\n        handled = true;\n        break;\n\n      case Keys.SPACE:\n        if (e.target && e.target.className.includes(menuClass)) {\n          e.preventDefault();\n        }\n\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  const handleAnimationEnd = () => {\n    if (isClosing) {\n      setClosing(false);\n      setMaxHeight(-1);\n    }\n  };\n\n  const positionHelpers = useCallback(() => {\n    const menuRect = menuRef.current.getBoundingClientRect();\n    const containerRect = containerRef.current.getBoundingClientRect();\n    const viewportWidth = document.documentElement.clientWidth;\n    const viewportHeight = document.documentElement.clientHeight;\n\n    const getLeftOverflow = x => containerRect.left + x;\n\n    const getRightOverflow = x => containerRect.left + x + menuRect.width - viewportWidth;\n\n    const getTopOverflow = y => containerRect.top + y;\n\n    const getBottomOverflow = y => containerRect.top + y + menuRect.height - viewportHeight;\n\n    const confineHorizontally = x => {\n      let leftOverflow = getLeftOverflow(x);\n\n      if (leftOverflow < 0) {\n        x -= leftOverflow;\n      } else {\n        const rightOverflow = getRightOverflow(x);\n\n        if (rightOverflow > 0) {\n          x -= rightOverflow;\n          leftOverflow = getLeftOverflow(x);\n          if (leftOverflow < 0) x -= leftOverflow;\n        }\n      }\n\n      return x;\n    };\n\n    const confineVertically = y => {\n      let topOverflow = getTopOverflow(y);\n\n      if (topOverflow < 0) {\n        y -= topOverflow;\n      } else {\n        const bottomOverflow = getBottomOverflow(y);\n\n        if (bottomOverflow > 0) {\n          y -= bottomOverflow;\n          topOverflow = getTopOverflow(y);\n          if (topOverflow < 0) y -= topOverflow;\n        }\n      }\n\n      return y;\n    };\n\n    return {\n      menuRect,\n      containerRect,\n      viewportWidth,\n      viewportHeight,\n      getLeftOverflow,\n      getRightOverflow,\n      getTopOverflow,\n      getBottomOverflow,\n      confineHorizontally,\n      confineVertically\n    };\n  }, [containerRef]);\n  const placeArrowX = useCallback((menuX, anchorRect, containerRect, menuRect) => {\n    if (!arrow) return;\n    let x = anchorRect.left - containerRect.left - menuX + anchorRect.width / 2;\n    const offset = arrowRef.current.offsetWidth * 1.25;\n    x = Math.max(offset, x);\n    x = Math.min(x, menuRect.width - offset);\n    setArrowPosition({\n      x\n    });\n  }, [arrow]);\n  const placeArrowY = useCallback((menuY, anchorRect, containerRect, menuRect) => {\n    if (!arrow) return;\n    let y = anchorRect.top - containerRect.top - menuY + anchorRect.height / 2;\n    const offset = arrowRef.current.offsetHeight * 1.25;\n    y = Math.max(offset, y);\n    y = Math.min(y, menuRect.height - offset);\n    setArrowPosition({\n      y\n    });\n  }, [arrow]);\n  const placeLeftorRight = useCallback(({\n    anchorRect,\n    containerRect,\n    menuRect\n  }, {\n    placeLeftorRightY,\n    placeLeftX,\n    placeRightX\n  }, {\n    getLeftOverflow,\n    getRightOverflow,\n    confineHorizontally,\n    confineVertically\n  }) => {\n    let computedDirection = direction;\n    let y = placeLeftorRightY;\n\n    if (position !== 'initial') {\n      y = confineVertically(y);\n\n      if (position === 'anchor') {\n        y = Math.min(y, anchorRect.bottom - containerRect.top);\n        y = Math.max(y, anchorRect.top - containerRect.top - menuRect.height);\n      }\n    }\n\n    let x, leftOverflow, rightOverflow;\n\n    if (computedDirection === 'left') {\n      x = placeLeftX;\n\n      if (position !== 'initial') {\n        leftOverflow = getLeftOverflow(x);\n\n        if (leftOverflow < 0) {\n          rightOverflow = getRightOverflow(placeRightX);\n\n          if (rightOverflow <= 0 || -leftOverflow > rightOverflow) {\n            x = placeRightX;\n            computedDirection = 'right';\n          }\n        }\n      }\n    } else {\n      x = placeRightX;\n\n      if (position !== 'initial') {\n        rightOverflow = getRightOverflow(x);\n\n        if (rightOverflow > 0) {\n          leftOverflow = getLeftOverflow(placeLeftX);\n\n          if (leftOverflow >= 0 || -leftOverflow < rightOverflow) {\n            x = placeLeftX;\n            computedDirection = 'left';\n          }\n        }\n      }\n    }\n\n    if (position === 'auto') x = confineHorizontally(x);\n    placeArrowY(y, anchorRect, containerRect, menuRect);\n    return {\n      x,\n      y,\n      computedDirection\n    };\n  }, [placeArrowY, direction, position]);\n  const placeToporBottom = useCallback(({\n    anchorRect,\n    containerRect,\n    menuRect\n  }, {\n    placeToporBottomX,\n    placeTopY,\n    placeBottomY\n  }, {\n    getTopOverflow,\n    getBottomOverflow,\n    confineHorizontally,\n    confineVertically\n  }) => {\n    let computedDirection = direction === 'top' ? 'top' : 'bottom';\n    let x = placeToporBottomX;\n\n    if (position !== 'initial') {\n      x = confineHorizontally(x);\n\n      if (position === 'anchor') {\n        x = Math.min(x, anchorRect.right - containerRect.left);\n        x = Math.max(x, anchorRect.left - containerRect.left - menuRect.width);\n      }\n    }\n\n    let y, topOverflow, bottomOverflow;\n\n    if (computedDirection === 'top') {\n      y = placeTopY;\n\n      if (position !== 'initial') {\n        topOverflow = getTopOverflow(y);\n\n        if (topOverflow < 0) {\n          bottomOverflow = getBottomOverflow(placeBottomY);\n\n          if (bottomOverflow <= 0 || -topOverflow > bottomOverflow) {\n            y = placeBottomY;\n            computedDirection = 'bottom';\n          }\n        }\n      }\n    } else {\n      y = placeBottomY;\n\n      if (position !== 'initial') {\n        bottomOverflow = getBottomOverflow(y);\n\n        if (bottomOverflow > 0) {\n          topOverflow = getTopOverflow(placeTopY);\n\n          if (topOverflow >= 0 || -topOverflow < bottomOverflow) {\n            y = placeTopY;\n            computedDirection = 'top';\n          }\n        }\n      }\n    }\n\n    if (position === 'auto') y = confineVertically(y);\n    placeArrowX(x, anchorRect, containerRect, menuRect);\n    return {\n      x,\n      y,\n      computedDirection\n    };\n  }, [placeArrowX, direction, position]);\n  const positionMenu = useCallback((positionHelpers, anchorRef) => {\n    const {\n      menuRect,\n      containerRect,\n      ...helpers\n    } = positionHelpers;\n    let horizontalOffset = offsetX;\n    let verticalOffset = offsetY;\n\n    if (arrow) {\n      if (direction === 'left' || direction === 'right') {\n        horizontalOffset += arrowRef.current.offsetWidth;\n      } else {\n        verticalOffset += arrowRef.current.offsetHeight;\n      }\n    }\n\n    const anchorRect = anchorRef.current.getBoundingClientRect();\n    const placeLeftX = anchorRect.left - containerRect.left - menuRect.width - horizontalOffset;\n    const placeRightX = anchorRect.right - containerRect.left + horizontalOffset;\n    const placeTopY = anchorRect.top - containerRect.top - menuRect.height - verticalOffset;\n    const placeBottomY = anchorRect.bottom - containerRect.top + verticalOffset;\n    let placeToporBottomX, placeLeftorRightY;\n\n    if (align === 'end') {\n      placeToporBottomX = anchorRect.right - containerRect.left - menuRect.width;\n      placeLeftorRightY = anchorRect.bottom - containerRect.top - menuRect.height;\n    } else if (align === 'center') {\n      placeToporBottomX = anchorRect.left - containerRect.left - (menuRect.width - anchorRect.width) / 2;\n      placeLeftorRightY = anchorRect.top - containerRect.top - (menuRect.height - anchorRect.height) / 2;\n    } else {\n      placeToporBottomX = anchorRect.left - containerRect.left;\n      placeLeftorRightY = anchorRect.top - containerRect.top;\n    }\n\n    placeToporBottomX += horizontalOffset;\n    placeLeftorRightY += verticalOffset;\n    const rects = {\n      anchorRect,\n      containerRect,\n      menuRect\n    };\n    const placements = {\n      placeLeftX,\n      placeRightX,\n      placeLeftorRightY,\n      placeTopY,\n      placeBottomY,\n      placeToporBottomX\n    };\n\n    switch (direction) {\n      case 'left':\n      case 'right':\n        return placeLeftorRight(rects, placements, helpers);\n\n      case 'top':\n      case 'bottom':\n      default:\n        return placeToporBottom(rects, placements, helpers);\n    }\n  }, [arrow, align, direction, offsetX, offsetY, placeLeftorRight, placeToporBottom]);\n  const positionContextMenu = useCallback((positionHelpers, anchorPoint) => {\n    const {\n      menuRect,\n      containerRect,\n      getLeftOverflow,\n      getRightOverflow,\n      getTopOverflow,\n      getBottomOverflow,\n      confineHorizontally,\n      confineVertically\n    } = positionHelpers;\n    let x, y;\n    x = anchorPoint.x - containerRect.left;\n    y = anchorPoint.y - containerRect.top;\n    const rightOverflow = getRightOverflow(x);\n\n    if (rightOverflow > 0) {\n      const adjustedX = x - menuRect.width;\n      const leftOverflow = getLeftOverflow(adjustedX);\n\n      if (leftOverflow >= 0 || -leftOverflow < rightOverflow) {\n        x = adjustedX;\n      }\n\n      x = confineHorizontally(x);\n    }\n\n    let computedDirection = 'bottom';\n    const bottomOverflow = getBottomOverflow(y);\n\n    if (bottomOverflow > 0) {\n      const adjustedY = y - menuRect.height;\n      const topOverflow = getTopOverflow(adjustedY);\n\n      if (topOverflow >= 0 || -topOverflow < bottomOverflow) {\n        y = adjustedY;\n        computedDirection = 'top';\n      }\n\n      y = confineVertically(y);\n    }\n\n    return {\n      x,\n      y,\n      computedDirection\n    };\n  }, []);\n  const handlePosition = useCallback(() => {\n    const helpers = positionHelpers();\n    let results = {\n      computedDirection: 'bottom'\n    };\n\n    if (anchorPoint) {\n      results = positionContextMenu(helpers, anchorPoint);\n    } else if (anchorRef) {\n      results = positionMenu(helpers, anchorRef);\n    }\n\n    let {\n      x,\n      y,\n      computedDirection\n    } = results;\n\n    if (overflow !== 'visible') {\n      const {\n        menuRect,\n        getTopOverflow,\n        getBottomOverflow\n      } = helpers;\n      setMaxHeight(height => {\n        let newHeight = -1;\n        const bottomOverflow = getBottomOverflow(y);\n\n        if (bottomOverflow > 0 || bottomOverflow === 0 && height >= 0) {\n          newHeight = menuRect.height - bottomOverflow;\n        } else {\n          const topOverflow = getTopOverflow(y);\n\n          if (topOverflow < 0 || topOverflow === 0 && height >= 0) {\n            newHeight = menuRect.height + topOverflow;\n            if (newHeight >= 0) y -= topOverflow;\n          }\n        }\n\n        return newHeight;\n      });\n    }\n\n    setMenuPosition({\n      x,\n      y\n    });\n    setExpandedDirection(computedDirection);\n  }, [anchorPoint, anchorRef, overflow, positionHelpers, positionMenu, positionContextMenu]);\n  useIsomorphicLayoutEffect(() => {\n    if (isOpen) handlePosition();\n  }, [isOpen, handlePosition]);\n  useEffect(() => {\n    if (!isOpen || viewScroll === 'initial') return;\n    let scroll = viewScroll;\n    if (scroll === 'auto' && overflow !== 'visible') scroll = 'close';\n\n    const handleScroll = () => {\n      if (scroll === 'auto') {\n        handlePosition();\n      } else {\n        safeCall(onClose, {\n          reason: CloseReason.SCROLL\n        });\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [isOpen, overflow, onClose, viewScroll, handlePosition]);\n  useIsomorphicLayoutEffect(() => {\n    if (animation && isMounted) {\n      if (isOpen) {\n        setClosing(false);\n      } else if (isOpen !== prevOpen.current) {\n        setClosing(true);\n      }\n    }\n\n    prevOpen.current = isOpen;\n  }, [animation, isMounted, isOpen]);\n  useEffect(() => {\n    if (!isOpen) {\n      hoverIndexDispatch({\n        type: HoverIndexActionTypes.RESET\n      });\n      if (!animation) setMaxHeight(-1);\n    }\n\n    const id = setTimeout(() => {\n      if (!isOpen || menuRef.current.contains(document.activeElement)) return;\n      menuRef.current.focus();\n\n      if (menuItemFocus.position === FocusPositions.FIRST) {\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.FIRST\n        });\n      } else if (menuItemFocus.position === FocusPositions.LAST) {\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.LAST\n        });\n      }\n    }, 100);\n    return () => clearTimeout(id);\n  }, [animation, isOpen, menuItemFocus]);\n  const context = useMemo(() => ({\n    isParentOpen: isOpen,\n    hoverIndex,\n    hoverIndexDispatch\n  }), [isOpen, hoverIndex]);\n  const modifiers = {\n    open: isOpen,\n    closing: isClosing,\n    animation,\n    dir: animation && expandedDirection\n  };\n  const userModifiers = Object.freeze({ ...modifiers,\n    dir: expandedDirection\n  });\n  const arrowModifiers = Object.freeze({\n    dir: expandedDirection\n  });\n  let overflowStyles = null;\n\n  if (maxHeight >= 0) {\n    overflowStyles = {\n      maxHeight,\n      overflow\n    };\n  }\n\n  const handlers = attachHandlerProps({\n    onKeyDown: handleKeyDown,\n    onAnimationEnd: handleAnimationEnd\n  }, restProps);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isMounted && /*#__PURE__*/React.createElement(\"ul\", Object.assign({\n    role: \"menu\",\n    tabIndex: \"-1\",\n    \"aria-disabled\": isDisabled,\n    \"aria-label\": ariaLabel\n  }, restProps, handlers, {\n    ref: menuRef,\n    className: bem(menuClass, null, modifiers)(className, userModifiers),\n    style: { ...flatStyles(styles, userModifiers),\n      ...overflowStyles,\n      left: `${menuPosition.x}px`,\n      top: `${menuPosition.y}px`\n    }\n  }), arrow && /*#__PURE__*/React.createElement(\"div\", {\n    className: bem(menuClass, menuArrowClass, arrowModifiers)(arrowClassName),\n    style: { ...flatStyles(arrowStyles, arrowModifiers),\n      left: arrowPosition.x && `${arrowPosition.x}px`,\n      top: arrowPosition.y && `${arrowPosition.y}px`\n    },\n    ref: arrowRef,\n    role: \"presentation\"\n  }), /*#__PURE__*/React.createElement(MenuListContext.Provider, {\n    value: context\n  }, menuItems)));\n}), 'MenuList');\n\nconst useMenuList = (menuListProps, id, animation, debugging, viewScroll, onClick, onClose, skipClick) => {\n  const containerRef = useRef(null);\n  const settings = useMemo(() => ({\n    animation,\n    debugging,\n    viewScroll\n  }), [animation, debugging, viewScroll]);\n  const eventHandlers = useMemo(() => ({\n    handleClick(event, isStopPropagation, isCheckorRadio) {\n      if (!isCheckorRadio || event.key !== Keys.SPACE) {\n        safeCall(onClose, {\n          key: event.key,\n          reason: CloseReason.CLICK\n        });\n      }\n\n      if (!isStopPropagation) safeCall(onClick, event);\n    },\n\n    handleClose(key) {\n      safeCall(onClose, {\n        key,\n        reason: CloseReason.CLICK\n      });\n    }\n\n  }), [onClick, onClose]);\n\n  const handleKeyDown = ({\n    key\n  }) => {\n    switch (key) {\n      case Keys.ESC:\n        safeCall(onClose, {\n          key,\n          reason: CloseReason.CANCEL\n        });\n        break;\n    }\n  };\n\n  const handleBlur = e => {\n    if (menuListProps.isOpen && !e.currentTarget.contains(e.relatedTarget) && !debugging) {\n      safeCall(onClose, {\n        reason: CloseReason.BLUR\n      });\n\n      if (skipClick) {\n        skipClick.current = true;\n        setTimeout(() => skipClick.current = false, 300);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    className: bem(menuContainerClass)(),\n    role: \"presentation\",\n    ref: containerRef,\n    onKeyDown: handleKeyDown,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React.createElement(SettingsContext.Provider, {\n    value: settings\n  }, /*#__PURE__*/React.createElement(EventHandlersContext.Provider, {\n    value: eventHandlers\n  }, /*#__PURE__*/React.createElement(MenuList, Object.assign({}, menuListProps, {\n    containerRef: containerRef,\n    onClose: onClose\n  })))));\n};\n\nconst Menu = /*#__PURE__*/React.memo(function Menu({\n  'aria-label': ariaLabel,\n  id,\n  animation,\n  debugging,\n  viewScroll,\n  keepMounted,\n  menuButton,\n  onClick,\n  onChange,\n  ...restProps\n}) {\n  const {\n    isMounted,\n    isOpen,\n    menuItemFocus,\n    openMenu,\n    closeMenu\n  } = useMenuState(keepMounted);\n  useMenuChange(onChange, isOpen);\n  const skipClick = useRef(false);\n  const buttonRef = useRef(null);\n  const button = safeCall(menuButton, {\n    open: isOpen\n  });\n  if (!button) throw new Error('Menu requires a menuButton prop.');\n  const handleClose = useCallback(e => {\n    closeMenu();\n    if (e.key) buttonRef.current.focus();\n  }, [closeMenu]);\n  const handleClick = useCallback(e => {\n    if (skipClick.current) return;\n    openMenu(e.detail === 0 ? FocusPositions.FIRST : FocusPositions.INITIAL);\n  }, [openMenu]);\n  const handleKeyDown = useCallback(e => {\n    let handled = false;\n\n    switch (e.key) {\n      case Keys.UP:\n        openMenu(FocusPositions.LAST);\n        handled = true;\n        break;\n\n      case Keys.DOWN:\n        openMenu(FocusPositions.FIRST);\n        handled = true;\n        break;\n    }\n\n    if (handled) e.preventDefault();\n  }, [openMenu]);\n  const renderButton = useMemo(() => {\n    const buttonProps = {\n      ref: buttonRef,\n      ...attachHandlerProps({\n        onClick: handleClick,\n        onKeyDown: handleKeyDown\n      }, button.props)\n    };\n\n    if (button.type.__name__ === 'MenuButton') {\n      buttonProps.isOpen = isOpen;\n    }\n\n    return /*#__PURE__*/React.cloneElement(button, buttonProps);\n  }, [button, isOpen, handleClick, handleKeyDown]);\n  const menuList = useMenuList({ ...restProps,\n    ariaLabel: ariaLabel || (typeof button.props.children === 'string' ? button.props.children : 'Menu'),\n    anchorRef: buttonRef,\n    isOpen,\n    isMounted,\n    menuItemFocus\n  }, id, animation, debugging, viewScroll, onClick, handleClose, skipClick);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, renderButton, menuList);\n});\nMenu.propTypes = { ...menuPropTypesBase,\n  keepMounted: PropTypes.bool,\n  menuButton: PropTypes.oneOfType([PropTypes.element, PropTypes.func]).isRequired,\n  onChange: PropTypes.func\n};\nMenu.defaultProps = { ...menuDefaultPropsBase,\n  keepMounted: true\n};\nconst ControlledMenu = /*#__PURE__*/React.memo(function ControlledMenu({\n  'aria-label': ariaLabel,\n  id,\n  animation,\n  debugging,\n  viewScroll,\n  onClick,\n  onClose,\n  ...restProps\n}) {\n  return useMenuList({ ...restProps,\n    ariaLabel: ariaLabel || 'Menu'\n  }, id, animation, debugging, viewScroll, onClick, onClose);\n});\nControlledMenu.propTypes = { ...menuPropTypesBase,\n  anchorPoint: PropTypes.exact({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }),\n  anchorRef: PropTypes.object,\n  isOpen: PropTypes.bool,\n  isMounted: PropTypes.bool,\n  menuItemFocus: PropTypes.exact({\n    position: PropTypes.string\n  }),\n  onClose: PropTypes.func\n};\nControlledMenu.defaultProps = { ...menuDefaultPropsBase,\n  isMounted: true,\n  menuItemFocus: {\n    position: FocusPositions.INITIAL\n  }\n};\nconst SubMenu = defineName( /*#__PURE__*/React.memo(function SubMenu({\n  'aria-label': ariaLabel,\n  itemClassName,\n  itemStyles,\n  disabled,\n  keepMounted,\n  label,\n  index,\n  onChange,\n  ...restProps\n}) {\n  const {\n    isMounted,\n    isOpen,\n    menuItemFocus,\n    openMenu,\n    closeMenu\n  } = useMenuState(keepMounted);\n  const {\n    isParentOpen,\n    hoverIndex,\n    hoverIndexDispatch\n  } = useContext(MenuListContext);\n  const {\n    debugging\n  } = useContext(SettingsContext);\n  const isHovering = hoverIndex === index;\n  const isDisabled = disabled ? true : undefined;\n  const {\n    isActive,\n    onKeyUp,\n    ...activeStateHandlers\n  } = useActiveState(isHovering, isDisabled, Keys.RIGHT);\n  const containerRef = useRef(null);\n  const itemRef = useRef(null);\n  const timeoutId = useRef();\n  useMenuChange(onChange, isOpen);\n  const handleClose = useCallback(() => {\n    itemRef.current.focus();\n  }, []);\n\n  const handleMouseEnter = () => {\n    if (isDisabled) return;\n    hoverIndexDispatch({\n      type: HoverIndexActionTypes.SET,\n      index\n    });\n    timeoutId.current = setTimeout(() => {\n      timeoutId.current = null;\n      if (isParentOpen) openMenu();\n    }, 300);\n  };\n\n  const handleMouseLeave = () => {\n    clearTimeout(timeoutId.current);\n\n    if (!isOpen) {\n      hoverIndexDispatch({\n        type: HoverIndexActionTypes.UNSET,\n        index\n      });\n    }\n  };\n\n  const handleKeyDown = e => {\n    let handled = false;\n\n    switch (e.key) {\n      case Keys.LEFT:\n        if (isOpen) {\n          handleClose();\n          handled = true;\n        }\n\n        break;\n\n      case Keys.RIGHT:\n        if (!isOpen) handled = true;\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  const handleKeyUp = e => {\n    if (!isActive) return;\n    onKeyUp(e);\n\n    switch (e.key) {\n      case Keys.SPACE:\n      case Keys.ENTER:\n      case Keys.RIGHT:\n        openMenu(FocusPositions.FIRST);\n        break;\n    }\n  };\n\n  const handleBlur = e => {\n    if (debugging) return;\n\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      closeMenu();\n      hoverIndexDispatch({\n        type: HoverIndexActionTypes.UNSET,\n        index\n      });\n    } else if (itemRef.current.contains(e.relatedTarget)) {\n      closeMenu();\n    }\n  };\n\n  useEffect(() => {\n    if (isHovering && isParentOpen) {\n      itemRef.current.focus();\n    } else {\n      closeMenu();\n    }\n  }, [isHovering, isParentOpen, closeMenu]);\n  const modifiers = Object.freeze({\n    open: isOpen,\n    hover: isHovering,\n    active: isActive,\n    disabled: isDisabled\n  });\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: bem(menuClass, subMenuClass)(),\n    role: \"presentation\",\n    ref: containerRef,\n    onKeyDown: handleKeyDown,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: bem(menuClass, menuItemClass, modifiers)(itemClassName),\n    style: flatStyles(itemStyles, modifiers),\n    role: \"menuitem\",\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": isOpen,\n    \"aria-disabled\": isDisabled,\n    tabIndex: isHovering && !isOpen ? 0 : -1,\n    ref: itemRef,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onClick: () => !isDisabled && openMenu(),\n    onKeyUp: handleKeyUp\n  }, activeStateHandlers), safeCall(label, modifiers)), /*#__PURE__*/React.createElement(MenuList, Object.assign({}, restProps, {\n    ariaLabel: ariaLabel || (typeof label === 'string' ? label : 'Submenu'),\n    anchorRef: itemRef,\n    containerRef: containerRef,\n    isOpen: isOpen,\n    isMounted: isMounted,\n    isDisabled: isDisabled,\n    menuItemFocus: menuItemFocus,\n    onClose: handleClose\n  })));\n}), 'SubMenu');\nSubMenu.propTypes = { ...sharedMenuPropTypes,\n  ...stylePropTypes('item'),\n  disabled: PropTypes.bool,\n  keepMounted: PropTypes.bool,\n  label: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  onChange: PropTypes.func\n};\nSubMenu.defaultProps = { ...sharedMenuDefaultProp,\n  direction: 'right',\n  keepMounted: true\n};\nconst MenuItem = defineName( /*#__PURE__*/React.memo(function MenuItem({\n  className,\n  styles,\n  value,\n  href,\n  type,\n  checked,\n  disabled,\n  index,\n  children,\n  onClick,\n  ...restProps\n}) {\n  const {\n    ref,\n    isHovering,\n    isDisabled,\n    setHover,\n    unsetHover\n  } = useItemState(disabled, index);\n  const eventHandlers = useContext(EventHandlersContext);\n  const radioGroup = useContext(RadioGroupContext);\n  const {\n    isActive,\n    onKeyUp,\n    onBlur,\n    ...activeStateHandlers\n  } = useActiveState(isHovering, isDisabled);\n  const isRadio = type === 'radio';\n  const isCheckBox = type === 'checkbox';\n  const isAnchor = href && !isDisabled && !isRadio && !isCheckBox;\n\n  const handleClick = key => {\n    if (isDisabled) return;\n    let isStopPropagation = false;\n    const event = {\n      value,\n      key\n    };\n\n    if (isCheckBox) {\n      event.checked = !checked;\n    }\n\n    if (isRadio) {\n      event.name = radioGroup.name;\n      isStopPropagation = true;\n      safeCall(radioGroup.onChange, event);\n    } else {\n      isStopPropagation = safeCall(onClick, event) === false;\n    }\n\n    eventHandlers.handleClick(event, isStopPropagation, isCheckBox || isRadio);\n  };\n\n  const handleKeyUp = e => {\n    if (!isActive) return;\n    onKeyUp(e);\n\n    switch (e.key) {\n      case Keys.SPACE:\n      case Keys.ENTER:\n        if (isAnchor) {\n          ref.current.click();\n        } else {\n          handleClick(e.key);\n        }\n\n        break;\n    }\n  };\n\n  const handleBlur = e => {\n    onBlur(e);\n\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      unsetHover(e);\n    }\n  };\n\n  const modifiers = Object.freeze({\n    type,\n    disabled: isDisabled,\n    hover: isHovering,\n    active: isActive,\n    checked: isRadio ? radioGroup.value === value : isCheckBox ? !!checked : undefined,\n    anchor: isAnchor\n  });\n  const handlers = attachHandlerProps({ ...activeStateHandlers,\n    onMouseEnter: setHover,\n    onMouseLeave: unsetHover,\n    onKeyUp: handleKeyUp,\n    onBlur: handleBlur,\n    onClick: () => handleClick()\n  }, restProps);\n  const menuItemProps = {\n    role: isRadio ? 'menuitemradio' : isCheckBox ? 'menuitemcheckbox' : 'menuitem',\n    'aria-checked': modifiers.checked,\n    'aria-disabled': isDisabled,\n    tabIndex: isHovering ? 0 : -1,\n    ...restProps,\n    ...handlers,\n    ref,\n    className: bem(menuClass, menuItemClass, modifiers)(className),\n    style: flatStyles(styles, modifiers)\n  };\n  const renderChildren = safeCall(children, modifiers);\n\n  if (isAnchor) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      role: \"presentation\"\n    }, /*#__PURE__*/React.createElement(\"a\", Object.assign({}, menuItemProps, {\n      href: href\n    }), renderChildren));\n  } else {\n    return /*#__PURE__*/React.createElement(\"li\", menuItemProps, renderChildren);\n  }\n}), 'MenuItem');\nMenuItem.propTypes = { ...stylePropTypes(),\n  value: PropTypes.any,\n  href: PropTypes.string,\n  type: PropTypes.oneOf(['checkbox', 'radio']),\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  onClick: PropTypes.func\n};\nconst FocusableItem = defineName( /*#__PURE__*/React.memo(function FocusableItem({\n  className,\n  styles,\n  disabled,\n  index,\n  children,\n  ...restProps\n}) {\n  const {\n    ref,\n    isHovering,\n    isDisabled,\n    setHover,\n    unsetHover\n  } = useItemState(disabled, index);\n  const {\n    handleClose\n  } = useContext(EventHandlersContext);\n  const baseParams = {\n    disabled: isDisabled,\n    hover: isHovering\n  };\n  const modifiers = Object.freeze({ ...baseParams,\n    focusable: true\n  });\n  const renderChildren = safeCall(children, { ...baseParams,\n    ref,\n    closeMenu: handleClose\n  });\n\n  const handleBlur = e => {\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      unsetHover(e);\n    }\n  };\n\n  const handlers = attachHandlerProps({\n    onMouseEnter: setHover,\n    onFocus: setHover,\n    onBlur: handleBlur\n  }, restProps);\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({\n    \"aria-disabled\": isDisabled,\n    role: \"menuitem\",\n    tabIndex: \"-1\"\n  }, restProps, handlers, {\n    className: bem(menuClass, menuItemClass, modifiers)(className),\n    style: flatStyles(styles, modifiers)\n  }), renderChildren);\n}), 'FocusableItem');\nFocusableItem.propTypes = { ...stylePropTypes(),\n  disabled: PropTypes.bool,\n  children: PropTypes.func.isRequired\n};\nconst MenuDivider = defineName( /*#__PURE__*/React.memo(function MenuDivider({\n  className,\n  styles,\n  ...restProps\n}) {\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({\n    role: \"separator\"\n  }, restProps, {\n    className: bem(menuClass, menuDividerClass)(className),\n    style: flatStyles(styles)\n  }));\n}), 'MenuDivider');\nMenuDivider.propTypes = { ...stylePropTypes()\n};\nconst MenuHeader = defineName( /*#__PURE__*/React.memo(function MenuHeader({\n  className,\n  styles,\n  children,\n  ...restProps\n}) {\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({\n    role: \"presentation\"\n  }, restProps, {\n    className: bem(menuClass, menuHeaderClass)(className),\n    style: flatStyles(styles)\n  }), children);\n}), 'MenuHeader');\nMenuHeader.propTypes = { ...stylePropTypes()\n};\nconst MenuRadioGroup = defineName( /*#__PURE__*/React.memo(function MenuRadioGroup({\n  'aria-label': ariaLabel,\n  className,\n  styles,\n  name,\n  value,\n  children,\n  onChange,\n  ...restProps\n}) {\n  const contextValue = useMemo(() => ({\n    name,\n    value,\n    onChange\n  }), [name, value, onChange]);\n  return /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\"\n  }, /*#__PURE__*/React.createElement(\"ul\", Object.assign({\n    role: \"group\",\n    \"aria-label\": ariaLabel || name || 'Radio group'\n  }, restProps, {\n    className: bem(menuClass, radioGroupClass)(className),\n    style: flatStyles(styles)\n  }), /*#__PURE__*/React.createElement(RadioGroupContext.Provider, {\n    value: contextValue\n  }, children)));\n}), 'MenuRadioGroup');\nMenuRadioGroup.propTypes = { ...stylePropTypes(),\n  'aria-label': PropTypes.string,\n  name: PropTypes.string,\n  value: PropTypes.any,\n  children: PropTypes.node.isRequired,\n  onChange: PropTypes.func\n};\nexport { ControlledMenu, FocusableItem, Menu, MenuButton, MenuDivider, MenuHeader, MenuItem, MenuRadioGroup, SubMenu, useMenuState };","map":{"version":3,"sources":["C:/Users/oci/Desktop/StageWEB/web/node_modules/@szhsin/react-menu/dist/index.modern.js"],"names":["React","useCallback","useState","useMemo","useRef","useContext","useEffect","useReducer","useLayoutEffect","PropTypes","menuContainerClass","menuClass","menuButtonClass","menuArrowClass","menuItemClass","menuDividerClass","menuHeaderClass","subMenuClass","radioGroupClass","initialHoverIndex","MenuListContext","createContext","hoverIndex","EventHandlersContext","RadioGroupContext","SettingsContext","Keys","Object","freeze","HoverIndexActionTypes","CloseReason","stylePropTypes","name","oneOfType","string","func","object","sharedMenuPropTypes","arrow","bool","offsetX","number","offsetY","align","oneOf","direction","position","overflow","children","node","isRequired","menuPropTypesBase","id","animation","debugging","viewScroll","onClick","sharedMenuDefaultProp","menuDefaultPropsBase","defineName","component","defineProperty","value","writable","safeCall","fn","args","attachHandlerProps","handlers","props","result","handlerName","keys","handler","propHandler","attachedHandler","e","bem","block","element","modifiers","userClassName","userModifiers","blockElement","className","trim","isObject","obj","flatStyles","styles","undefined","style","prop","modifierValue","nestedProp","nestedValue","assign","useActiveState","isHovering","isDisabled","customKey","active","setActive","activeKeys","SPACE","ENTER","cancelActive","isActive","onPointerDown","onPointerUp","onPointerLeave","onKeyDown","includes","key","onKeyUp","onBlur","currentTarget","contains","relatedTarget","useItemState","disabled","index","ref","isParentOpen","hoverIndexDispatch","current","focus","setHover","type","SET","unsetHover","UNSET","useMenuChange","onChange","isOpen","prevOpen","open","FocusPositions","MenuStates","MenuStateActionType","useMenuState","keepMounted","menuItemFocus","setMenuItemFocus","INITIAL","menuState","dispatch","menuStateReducer","UNMOUNTED","state","OPEN","CLOSE","CLOSED","TOGGLE","Error","isMounted","openMenu","closeMenu","toggleMenu","useIsomorphicLayoutEffect","window","document","createElement","MenuButton","memo","forwardRef","restProps","propTypes","MenuList","ariaLabel","arrowClassName","arrowStyles","anchorPoint","anchorRef","containerRef","onClose","menuPosition","setMenuPosition","x","y","arrowPosition","setArrowPosition","maxHeight","setMaxHeight","isClosing","setClosing","expandedDirection","setExpandedDirection","menuRef","arrowRef","menuItemsCount","hoverIndexReducer","RESET","DECREASE","i","INCREASE","FIRST","LAST","menuItems","permittedChildren","validateChildren","parent","child","permitted","__name__","console","warn","join","items","Children","map","radioItems","radioChild","cloneElement","handleKeyDown","handled","HOME","END","UP","DOWN","target","preventDefault","stopPropagation","handleAnimationEnd","positionHelpers","menuRect","getBoundingClientRect","containerRect","viewportWidth","documentElement","clientWidth","viewportHeight","clientHeight","getLeftOverflow","left","getRightOverflow","width","getTopOverflow","top","getBottomOverflow","height","confineHorizontally","leftOverflow","rightOverflow","confineVertically","topOverflow","bottomOverflow","placeArrowX","menuX","anchorRect","offset","offsetWidth","Math","max","min","placeArrowY","menuY","offsetHeight","placeLeftorRight","placeLeftorRightY","placeLeftX","placeRightX","computedDirection","bottom","placeToporBottom","placeToporBottomX","placeTopY","placeBottomY","right","positionMenu","helpers","horizontalOffset","verticalOffset","rects","placements","positionContextMenu","adjustedX","adjustedY","handlePosition","results","newHeight","scroll","handleScroll","reason","SCROLL","addEventListener","removeEventListener","setTimeout","activeElement","clearTimeout","context","closing","dir","arrowModifiers","overflowStyles","onAnimationEnd","Fragment","role","tabIndex","Provider","useMenuList","menuListProps","skipClick","settings","eventHandlers","handleClick","event","isStopPropagation","isCheckorRadio","CLICK","handleClose","ESC","CANCEL","handleBlur","BLUR","Menu","menuButton","buttonRef","button","detail","renderButton","buttonProps","menuList","defaultProps","ControlledMenu","exact","SubMenu","itemClassName","itemStyles","label","activeStateHandlers","RIGHT","itemRef","timeoutId","handleMouseEnter","handleMouseLeave","LEFT","handleKeyUp","hover","onMouseEnter","onMouseLeave","MenuItem","href","checked","radioGroup","isRadio","isCheckBox","isAnchor","click","anchor","menuItemProps","renderChildren","any","FocusableItem","baseParams","focusable","onFocus","MenuDivider","MenuHeader","MenuRadioGroup","contextValue"],"mappings":"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","sourcesContent":["import React, { useCallback, useState, useMemo, useRef, useContext, useEffect, useReducer, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nconst menuContainerClass = 'rc-menu-container';\nconst menuClass = 'rc-menu';\nconst menuButtonClass = 'rc-menu-button';\nconst menuArrowClass = 'arrow';\nconst menuItemClass = 'item';\nconst menuDividerClass = 'divider';\nconst menuHeaderClass = 'header';\nconst subMenuClass = 'submenu';\nconst radioGroupClass = 'radio-group';\nconst initialHoverIndex = -1;\nconst MenuListContext = /*#__PURE__*/React.createContext({\n  hoverIndex: initialHoverIndex\n});\nconst EventHandlersContext = /*#__PURE__*/React.createContext({});\nconst RadioGroupContext = /*#__PURE__*/React.createContext({});\nconst SettingsContext = /*#__PURE__*/React.createContext({});\nconst Keys = Object.freeze({\n  'ENTER': 'Enter',\n  'ESC': 'Escape',\n  'SPACE': ' ',\n  'HOME': 'Home',\n  'END': 'End',\n  'LEFT': 'ArrowLeft',\n  'RIGHT': 'ArrowRight',\n  'UP': 'ArrowUp',\n  'DOWN': 'ArrowDown'\n});\nconst HoverIndexActionTypes = Object.freeze({\n  'RESET': 0,\n  'SET': 1,\n  'UNSET': 2,\n  'INCREASE': 3,\n  'DECREASE': 4,\n  'FIRST': 5,\n  'LAST': 6\n});\nconst CloseReason = Object.freeze({\n  'CLICK': 'click',\n  'CANCEL': 'cancel',\n  'BLUR': 'blur',\n  'RESIZE': 'resize',\n  'SCROLL': 'scroll'\n});\n\nconst stylePropTypes = name => ({\n  [name ? `${name}ClassName` : 'className']: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  [name ? `${name}Styles` : 'styles']: PropTypes.oneOfType([PropTypes.object, PropTypes.func])\n});\nconst sharedMenuPropTypes = { ...stylePropTypes(),\n  ...stylePropTypes('arrow'),\n  'aria-label': PropTypes.string,\n  arrow: PropTypes.bool,\n  offsetX: PropTypes.number,\n  offsetY: PropTypes.number,\n  align: PropTypes.oneOf(['start', 'center', 'end']),\n  direction: PropTypes.oneOf(['left', 'right', 'top', 'bottom']),\n  position: PropTypes.oneOf(['auto', 'anchor', 'initial']),\n  overflow: PropTypes.oneOf(['auto', 'visible', 'hidden']),\n  children: PropTypes.node.isRequired\n};\nconst menuPropTypesBase = { ...sharedMenuPropTypes,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  animation: PropTypes.bool,\n  debugging: PropTypes.bool,\n  viewScroll: PropTypes.oneOf(['auto', 'close', 'initial']),\n  onClick: PropTypes.func\n};\nconst sharedMenuDefaultProp = {\n  offsetX: 0,\n  offsetY: 0,\n  align: 'start',\n  direction: 'bottom',\n  position: 'auto',\n  overflow: 'visible'\n};\nconst menuDefaultPropsBase = { ...sharedMenuDefaultProp,\n  animation: true,\n  viewScroll: 'initial'\n};\n\nconst defineName = (component, name) => Object.defineProperty(component, '__name__', {\n  value: name,\n  writable: false\n});\nconst safeCall = (fn, ...args) => typeof fn === 'function' ? fn(...args) : fn;\nconst attachHandlerProps = (handlers, props) => {\n  const result = {};\n\n  for (const handlerName of Object.keys(handlers)) {\n    const handler = handlers[handlerName];\n    const propHandler = props[handlerName];\n    let attachedHandler;\n\n    if (typeof propHandler === 'function') {\n      attachedHandler = e => {\n        propHandler(e);\n        handler(e);\n      };\n    } else {\n      attachedHandler = handler;\n    }\n\n    result[handlerName] = attachedHandler;\n  }\n\n  return result;\n};\nconst bem = (block, element, modifiers = {}) => (userClassName, userModifiers) => {\n  let blockElement = element ? `${block}__${element}` : block;\n  let className = blockElement;\n\n  for (const name of Object.keys(modifiers)) {\n    const value = modifiers[name];\n\n    if (value) {\n      className += ` ${blockElement}--`;\n      className += value === true ? name : `${name}-${value}`;\n    }\n  }\n\n  if (typeof userClassName === 'function') {\n    userClassName = userClassName(userModifiers || modifiers);\n  }\n\n  if (typeof userClassName === 'string') {\n    userClassName = userClassName.trim();\n    if (userClassName) className += ` ${userClassName}`;\n  }\n\n  return className;\n};\n\nconst isObject = obj => obj && typeof obj === 'object';\n\nconst flatStyles = (styles, modifiers) => {\n  if (typeof styles === 'function') return styles(modifiers);\n  if (!isObject(styles)) return undefined;\n  if (!modifiers) return styles;\n  const style = {};\n\n  for (const prop of Object.keys(styles)) {\n    const value = styles[prop];\n\n    if (isObject(value)) {\n      const modifierValue = modifiers[prop];\n\n      if (typeof modifierValue === 'string') {\n        for (const nestedProp of Object.keys(value)) {\n          const nestedValue = value[nestedProp];\n\n          if (isObject(nestedValue)) {\n            if (nestedProp === modifierValue) {\n              Object.assign(style, nestedValue);\n            }\n          } else {\n            style[nestedProp] = nestedValue;\n          }\n        }\n      } else if (modifierValue) {\n        Object.assign(style, value);\n      }\n    } else {\n      style[prop] = value;\n    }\n  }\n\n  return style;\n};\n\nconst useActiveState = (isHovering, isDisabled, customKey) => {\n  const [active, setActive] = useState(false);\n  const activeKeys = useMemo(() => [Keys.SPACE, Keys.ENTER, ...(customKey ? [customKey] : [])], [customKey]);\n  const cancelActive = useCallback(() => setActive(false), []);\n  return {\n    isActive: active,\n    onPointerDown: useCallback(() => {\n      if (!isDisabled) setActive(true);\n    }, [isDisabled]),\n    onPointerUp: cancelActive,\n    onPointerLeave: cancelActive,\n    onKeyDown: useCallback(e => {\n      if (isHovering && !isDisabled && activeKeys.includes(e.key)) {\n        setActive(true);\n      }\n    }, [isHovering, isDisabled, activeKeys]),\n    onKeyUp: useCallback(e => {\n      if (activeKeys.includes(e.key)) {\n        setActive(false);\n      }\n    }, [activeKeys]),\n    onBlur: useCallback(e => {\n      if (!e.currentTarget.contains(e.relatedTarget)) {\n        setActive(false);\n      }\n    }, [])\n  };\n};\n\nconst useItemState = (disabled, index) => {\n  const ref = useRef(null);\n  const {\n    isParentOpen,\n    hoverIndex,\n    hoverIndexDispatch\n  } = useContext(MenuListContext);\n  const isHovering = hoverIndex === index;\n  const isDisabled = disabled ? true : undefined;\n  useEffect(() => {\n    if (isHovering && isParentOpen) {\n      ref.current && ref.current.focus();\n    }\n  }, [isHovering, isParentOpen]);\n  return {\n    ref,\n    isHovering,\n    isDisabled,\n    setHover: useCallback(() => {\n      if (!isDisabled) hoverIndexDispatch({\n        type: HoverIndexActionTypes.SET,\n        index\n      });\n    }, [isDisabled, hoverIndexDispatch, index]),\n    unsetHover: useCallback(() => {\n      hoverIndexDispatch({\n        type: HoverIndexActionTypes.UNSET,\n        index\n      });\n    }, [hoverIndexDispatch, index])\n  };\n};\n\nconst useMenuChange = (onChange, isOpen) => {\n  const prevOpen = useRef(isOpen);\n  useEffect(() => {\n    if (prevOpen.current !== isOpen) safeCall(onChange, {\n      open: isOpen\n    });\n    prevOpen.current = isOpen;\n  }, [onChange, isOpen]);\n};\n\nconst FocusPositions = Object.freeze({\n  'INITIAL': 'initial',\n  'FIRST': 'first',\n  'LAST': 'last'\n});\nconst MenuStates = Object.freeze({\n  'UNMOUNTED': 0,\n  'CLOSED': 1,\n  'OPEN': 2\n});\nconst MenuStateActionType = Object.freeze({\n  'OPEN': 0,\n  'CLOSE': 1,\n  'TOGGLE': 2\n});\nconst useMenuState = (keepMounted = true) => {\n  const [menuItemFocus, setMenuItemFocus] = useState({\n    position: FocusPositions.INITIAL\n  });\n  const [menuState, dispatch] = useReducer(menuStateReducer, MenuStates.UNMOUNTED);\n\n  function menuStateReducer(state, {\n    type\n  }) {\n    switch (type) {\n      case MenuStateActionType.OPEN:\n        return MenuStates.OPEN;\n\n      case MenuStateActionType.CLOSE:\n        if (state === MenuStates.OPEN) {\n          return keepMounted ? MenuStates.CLOSED : MenuStates.UNMOUNTED;\n        } else {\n          return state;\n        }\n\n      case MenuStateActionType.TOGGLE:\n        if (state === MenuStates.OPEN) {\n          return keepMounted ? MenuStates.CLOSED : MenuStates.UNMOUNTED;\n        } else {\n          return MenuStates.OPEN;\n        }\n\n      default:\n        throw new Error('menuStateReducer: unknown action type');\n    }\n  }\n\n  return {\n    isMounted: menuState !== MenuStates.UNMOUNTED,\n    isOpen: menuState === MenuStates.OPEN,\n    menuItemFocus,\n    openMenu: useCallback((menuItemFocus = FocusPositions.INITIAL) => {\n      setMenuItemFocus({\n        position: menuItemFocus\n      });\n      dispatch({\n        type: MenuStateActionType.OPEN\n      });\n    }, []),\n    closeMenu: useCallback(() => dispatch({\n      type: MenuStateActionType.CLOSE\n    }), []),\n    toggleMenu: useCallback((menuItemFocus = FocusPositions.INITIAL) => {\n      setMenuItemFocus({\n        position: menuItemFocus\n      });\n      dispatch({\n        type: MenuStateActionType.TOGGLE\n      });\n    }, [])\n  };\n};\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined' ? useLayoutEffect : useEffect;\n\nconst MenuButton = defineName( /*#__PURE__*/React.memo( /*#__PURE__*/React.forwardRef(function MenuButton({\n  className,\n  styles,\n  isOpen,\n  disabled,\n  children,\n  ...restProps\n}, ref) {\n  const modifiers = Object.freeze({\n    open: isOpen\n  });\n  return /*#__PURE__*/React.createElement(\"button\", Object.assign({\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": isOpen,\n    \"aria-disabled\": disabled,\n    disabled: disabled\n  }, restProps, {\n    ref: ref,\n    className: bem(menuButtonClass, null, modifiers)(className),\n    style: flatStyles(styles, modifiers)\n  }), children);\n})), 'MenuButton');\nMenuButton.propTypes = { ...stylePropTypes(),\n  isOpen: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  onKeyDown: PropTypes.func\n};\n\nconst MenuList = defineName( /*#__PURE__*/React.memo(function MenuList({\n  ariaLabel,\n  className,\n  styles,\n  arrowClassName,\n  arrowStyles,\n  anchorPoint,\n  anchorRef,\n  containerRef,\n  arrow,\n  align,\n  direction,\n  position,\n  overflow,\n  isOpen,\n  isMounted,\n  isDisabled,\n  menuItemFocus,\n  offsetX,\n  offsetY,\n  children,\n  onClose,\n  ...restProps\n}) {\n  const [menuPosition, setMenuPosition] = useState({\n    x: 0,\n    y: 0\n  });\n  const [arrowPosition, setArrowPosition] = useState({});\n  const [maxHeight, setMaxHeight] = useState(-1);\n  const [isClosing, setClosing] = useState(false);\n  const [expandedDirection, setExpandedDirection] = useState(direction);\n  const {\n    animation,\n    viewScroll\n  } = useContext(SettingsContext);\n  const menuRef = useRef(null);\n  const arrowRef = useRef(null);\n  const menuItemsCount = useRef(0);\n  const prevOpen = useRef(isOpen);\n  const [hoverIndex, hoverIndexDispatch] = useReducer(hoverIndexReducer, initialHoverIndex);\n\n  function hoverIndexReducer(state, {\n    type,\n    index\n  }) {\n    switch (type) {\n      case HoverIndexActionTypes.RESET:\n        return initialHoverIndex;\n\n      case HoverIndexActionTypes.SET:\n        return index;\n\n      case HoverIndexActionTypes.UNSET:\n        return state === index ? initialHoverIndex : state;\n\n      case HoverIndexActionTypes.DECREASE:\n        {\n          let i = state;\n          i--;\n          if (i < 0) i = menuItemsCount.current - 1;\n          return i;\n        }\n\n      case HoverIndexActionTypes.INCREASE:\n        {\n          let i = state;\n          i++;\n          if (i >= menuItemsCount.current) i = 0;\n          return i;\n        }\n\n      case HoverIndexActionTypes.FIRST:\n        return menuItemsCount.current > 0 ? 0 : initialHoverIndex;\n\n      case HoverIndexActionTypes.LAST:\n        return menuItemsCount.current > 0 ? menuItemsCount.current - 1 : initialHoverIndex;\n\n      default:\n        throw new Error('hoverIndexReducer: unknown action type');\n    }\n  }\n\n  const menuItems = useMemo(() => {\n    if (!isMounted) return null;\n    let index = 0;\n    const permittedChildren = ['MenuDivider', 'MenuHeader', 'MenuItem', 'FocusableItem', 'MenuRadioGroup', 'SubMenu'];\n\n    const validateChildren = (parent, child, permitted) => {\n      if (!permitted.includes(child.type && child.type.__name__)) {\n        console.warn(`${child.type || child} is ignored.\\n`, `The permitted children inside a ${parent} are ${permitted.join(', ')}.`);\n        return false;\n      }\n\n      return true;\n    };\n\n    const items = React.Children.map(children, child => {\n      if (!validateChildren('Menu or SubMenu', child, permittedChildren)) return null;\n\n      if (child.type.__name__ === 'MenuDivider' || child.type.__name__ === 'MenuHeader') {\n        return child;\n      } else if (child.type.__name__ === 'MenuRadioGroup') {\n        const permittedChildren = ['MenuItem'];\n        const props = {\n          type: 'radio'\n        };\n        const radioItems = React.Children.map(child.props.children, radioChild => {\n          if (!validateChildren('MenuRadioGroup', radioChild, permittedChildren)) return null;\n          return radioChild.props.disabled ? /*#__PURE__*/React.cloneElement(radioChild, props) : /*#__PURE__*/React.cloneElement(radioChild, { ...props,\n            index: index++\n          });\n        });\n        return /*#__PURE__*/React.cloneElement(child, {\n          children: radioItems\n        });\n      } else {\n        return child.props.disabled ? child : /*#__PURE__*/React.cloneElement(child, {\n          index: index++\n        });\n      }\n    });\n    menuItemsCount.current = index;\n    return items;\n  }, [isMounted, children]);\n\n  const handleKeyDown = e => {\n    let handled = false;\n\n    switch (e.key) {\n      case Keys.HOME:\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.FIRST\n        });\n        handled = true;\n        break;\n\n      case Keys.END:\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.LAST\n        });\n        handled = true;\n        break;\n\n      case Keys.UP:\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.DECREASE\n        });\n        handled = true;\n        break;\n\n      case Keys.DOWN:\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.INCREASE\n        });\n        handled = true;\n        break;\n\n      case Keys.SPACE:\n        if (e.target && e.target.className.includes(menuClass)) {\n          e.preventDefault();\n        }\n\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  const handleAnimationEnd = () => {\n    if (isClosing) {\n      setClosing(false);\n      setMaxHeight(-1);\n    }\n  };\n\n  const positionHelpers = useCallback(() => {\n    const menuRect = menuRef.current.getBoundingClientRect();\n    const containerRect = containerRef.current.getBoundingClientRect();\n    const viewportWidth = document.documentElement.clientWidth;\n    const viewportHeight = document.documentElement.clientHeight;\n\n    const getLeftOverflow = x => containerRect.left + x;\n\n    const getRightOverflow = x => containerRect.left + x + menuRect.width - viewportWidth;\n\n    const getTopOverflow = y => containerRect.top + y;\n\n    const getBottomOverflow = y => containerRect.top + y + menuRect.height - viewportHeight;\n\n    const confineHorizontally = x => {\n      let leftOverflow = getLeftOverflow(x);\n\n      if (leftOverflow < 0) {\n        x -= leftOverflow;\n      } else {\n        const rightOverflow = getRightOverflow(x);\n\n        if (rightOverflow > 0) {\n          x -= rightOverflow;\n          leftOverflow = getLeftOverflow(x);\n          if (leftOverflow < 0) x -= leftOverflow;\n        }\n      }\n\n      return x;\n    };\n\n    const confineVertically = y => {\n      let topOverflow = getTopOverflow(y);\n\n      if (topOverflow < 0) {\n        y -= topOverflow;\n      } else {\n        const bottomOverflow = getBottomOverflow(y);\n\n        if (bottomOverflow > 0) {\n          y -= bottomOverflow;\n          topOverflow = getTopOverflow(y);\n          if (topOverflow < 0) y -= topOverflow;\n        }\n      }\n\n      return y;\n    };\n\n    return {\n      menuRect,\n      containerRect,\n      viewportWidth,\n      viewportHeight,\n      getLeftOverflow,\n      getRightOverflow,\n      getTopOverflow,\n      getBottomOverflow,\n      confineHorizontally,\n      confineVertically\n    };\n  }, [containerRef]);\n  const placeArrowX = useCallback((menuX, anchorRect, containerRect, menuRect) => {\n    if (!arrow) return;\n    let x = anchorRect.left - containerRect.left - menuX + anchorRect.width / 2;\n    const offset = arrowRef.current.offsetWidth * 1.25;\n    x = Math.max(offset, x);\n    x = Math.min(x, menuRect.width - offset);\n    setArrowPosition({\n      x\n    });\n  }, [arrow]);\n  const placeArrowY = useCallback((menuY, anchorRect, containerRect, menuRect) => {\n    if (!arrow) return;\n    let y = anchorRect.top - containerRect.top - menuY + anchorRect.height / 2;\n    const offset = arrowRef.current.offsetHeight * 1.25;\n    y = Math.max(offset, y);\n    y = Math.min(y, menuRect.height - offset);\n    setArrowPosition({\n      y\n    });\n  }, [arrow]);\n  const placeLeftorRight = useCallback(({\n    anchorRect,\n    containerRect,\n    menuRect\n  }, {\n    placeLeftorRightY,\n    placeLeftX,\n    placeRightX\n  }, {\n    getLeftOverflow,\n    getRightOverflow,\n    confineHorizontally,\n    confineVertically\n  }) => {\n    let computedDirection = direction;\n    let y = placeLeftorRightY;\n\n    if (position !== 'initial') {\n      y = confineVertically(y);\n\n      if (position === 'anchor') {\n        y = Math.min(y, anchorRect.bottom - containerRect.top);\n        y = Math.max(y, anchorRect.top - containerRect.top - menuRect.height);\n      }\n    }\n\n    let x, leftOverflow, rightOverflow;\n\n    if (computedDirection === 'left') {\n      x = placeLeftX;\n\n      if (position !== 'initial') {\n        leftOverflow = getLeftOverflow(x);\n\n        if (leftOverflow < 0) {\n          rightOverflow = getRightOverflow(placeRightX);\n\n          if (rightOverflow <= 0 || -leftOverflow > rightOverflow) {\n            x = placeRightX;\n            computedDirection = 'right';\n          }\n        }\n      }\n    } else {\n      x = placeRightX;\n\n      if (position !== 'initial') {\n        rightOverflow = getRightOverflow(x);\n\n        if (rightOverflow > 0) {\n          leftOverflow = getLeftOverflow(placeLeftX);\n\n          if (leftOverflow >= 0 || -leftOverflow < rightOverflow) {\n            x = placeLeftX;\n            computedDirection = 'left';\n          }\n        }\n      }\n    }\n\n    if (position === 'auto') x = confineHorizontally(x);\n    placeArrowY(y, anchorRect, containerRect, menuRect);\n    return {\n      x,\n      y,\n      computedDirection\n    };\n  }, [placeArrowY, direction, position]);\n  const placeToporBottom = useCallback(({\n    anchorRect,\n    containerRect,\n    menuRect\n  }, {\n    placeToporBottomX,\n    placeTopY,\n    placeBottomY\n  }, {\n    getTopOverflow,\n    getBottomOverflow,\n    confineHorizontally,\n    confineVertically\n  }) => {\n    let computedDirection = direction === 'top' ? 'top' : 'bottom';\n    let x = placeToporBottomX;\n\n    if (position !== 'initial') {\n      x = confineHorizontally(x);\n\n      if (position === 'anchor') {\n        x = Math.min(x, anchorRect.right - containerRect.left);\n        x = Math.max(x, anchorRect.left - containerRect.left - menuRect.width);\n      }\n    }\n\n    let y, topOverflow, bottomOverflow;\n\n    if (computedDirection === 'top') {\n      y = placeTopY;\n\n      if (position !== 'initial') {\n        topOverflow = getTopOverflow(y);\n\n        if (topOverflow < 0) {\n          bottomOverflow = getBottomOverflow(placeBottomY);\n\n          if (bottomOverflow <= 0 || -topOverflow > bottomOverflow) {\n            y = placeBottomY;\n            computedDirection = 'bottom';\n          }\n        }\n      }\n    } else {\n      y = placeBottomY;\n\n      if (position !== 'initial') {\n        bottomOverflow = getBottomOverflow(y);\n\n        if (bottomOverflow > 0) {\n          topOverflow = getTopOverflow(placeTopY);\n\n          if (topOverflow >= 0 || -topOverflow < bottomOverflow) {\n            y = placeTopY;\n            computedDirection = 'top';\n          }\n        }\n      }\n    }\n\n    if (position === 'auto') y = confineVertically(y);\n    placeArrowX(x, anchorRect, containerRect, menuRect);\n    return {\n      x,\n      y,\n      computedDirection\n    };\n  }, [placeArrowX, direction, position]);\n  const positionMenu = useCallback((positionHelpers, anchorRef) => {\n    const {\n      menuRect,\n      containerRect,\n      ...helpers\n    } = positionHelpers;\n    let horizontalOffset = offsetX;\n    let verticalOffset = offsetY;\n\n    if (arrow) {\n      if (direction === 'left' || direction === 'right') {\n        horizontalOffset += arrowRef.current.offsetWidth;\n      } else {\n        verticalOffset += arrowRef.current.offsetHeight;\n      }\n    }\n\n    const anchorRect = anchorRef.current.getBoundingClientRect();\n    const placeLeftX = anchorRect.left - containerRect.left - menuRect.width - horizontalOffset;\n    const placeRightX = anchorRect.right - containerRect.left + horizontalOffset;\n    const placeTopY = anchorRect.top - containerRect.top - menuRect.height - verticalOffset;\n    const placeBottomY = anchorRect.bottom - containerRect.top + verticalOffset;\n    let placeToporBottomX, placeLeftorRightY;\n\n    if (align === 'end') {\n      placeToporBottomX = anchorRect.right - containerRect.left - menuRect.width;\n      placeLeftorRightY = anchorRect.bottom - containerRect.top - menuRect.height;\n    } else if (align === 'center') {\n      placeToporBottomX = anchorRect.left - containerRect.left - (menuRect.width - anchorRect.width) / 2;\n      placeLeftorRightY = anchorRect.top - containerRect.top - (menuRect.height - anchorRect.height) / 2;\n    } else {\n      placeToporBottomX = anchorRect.left - containerRect.left;\n      placeLeftorRightY = anchorRect.top - containerRect.top;\n    }\n\n    placeToporBottomX += horizontalOffset;\n    placeLeftorRightY += verticalOffset;\n    const rects = {\n      anchorRect,\n      containerRect,\n      menuRect\n    };\n    const placements = {\n      placeLeftX,\n      placeRightX,\n      placeLeftorRightY,\n      placeTopY,\n      placeBottomY,\n      placeToporBottomX\n    };\n\n    switch (direction) {\n      case 'left':\n      case 'right':\n        return placeLeftorRight(rects, placements, helpers);\n\n      case 'top':\n      case 'bottom':\n      default:\n        return placeToporBottom(rects, placements, helpers);\n    }\n  }, [arrow, align, direction, offsetX, offsetY, placeLeftorRight, placeToporBottom]);\n  const positionContextMenu = useCallback((positionHelpers, anchorPoint) => {\n    const {\n      menuRect,\n      containerRect,\n      getLeftOverflow,\n      getRightOverflow,\n      getTopOverflow,\n      getBottomOverflow,\n      confineHorizontally,\n      confineVertically\n    } = positionHelpers;\n    let x, y;\n    x = anchorPoint.x - containerRect.left;\n    y = anchorPoint.y - containerRect.top;\n    const rightOverflow = getRightOverflow(x);\n\n    if (rightOverflow > 0) {\n      const adjustedX = x - menuRect.width;\n      const leftOverflow = getLeftOverflow(adjustedX);\n\n      if (leftOverflow >= 0 || -leftOverflow < rightOverflow) {\n        x = adjustedX;\n      }\n\n      x = confineHorizontally(x);\n    }\n\n    let computedDirection = 'bottom';\n    const bottomOverflow = getBottomOverflow(y);\n\n    if (bottomOverflow > 0) {\n      const adjustedY = y - menuRect.height;\n      const topOverflow = getTopOverflow(adjustedY);\n\n      if (topOverflow >= 0 || -topOverflow < bottomOverflow) {\n        y = adjustedY;\n        computedDirection = 'top';\n      }\n\n      y = confineVertically(y);\n    }\n\n    return {\n      x,\n      y,\n      computedDirection\n    };\n  }, []);\n  const handlePosition = useCallback(() => {\n    const helpers = positionHelpers();\n    let results = {\n      computedDirection: 'bottom'\n    };\n\n    if (anchorPoint) {\n      results = positionContextMenu(helpers, anchorPoint);\n    } else if (anchorRef) {\n      results = positionMenu(helpers, anchorRef);\n    }\n\n    let {\n      x,\n      y,\n      computedDirection\n    } = results;\n\n    if (overflow !== 'visible') {\n      const {\n        menuRect,\n        getTopOverflow,\n        getBottomOverflow\n      } = helpers;\n      setMaxHeight(height => {\n        let newHeight = -1;\n        const bottomOverflow = getBottomOverflow(y);\n\n        if (bottomOverflow > 0 || bottomOverflow === 0 && height >= 0) {\n          newHeight = menuRect.height - bottomOverflow;\n        } else {\n          const topOverflow = getTopOverflow(y);\n\n          if (topOverflow < 0 || topOverflow === 0 && height >= 0) {\n            newHeight = menuRect.height + topOverflow;\n            if (newHeight >= 0) y -= topOverflow;\n          }\n        }\n\n        return newHeight;\n      });\n    }\n\n    setMenuPosition({\n      x,\n      y\n    });\n    setExpandedDirection(computedDirection);\n  }, [anchorPoint, anchorRef, overflow, positionHelpers, positionMenu, positionContextMenu]);\n  useIsomorphicLayoutEffect(() => {\n    if (isOpen) handlePosition();\n  }, [isOpen, handlePosition]);\n  useEffect(() => {\n    if (!isOpen || viewScroll === 'initial') return;\n    let scroll = viewScroll;\n    if (scroll === 'auto' && overflow !== 'visible') scroll = 'close';\n\n    const handleScroll = () => {\n      if (scroll === 'auto') {\n        handlePosition();\n      } else {\n        safeCall(onClose, {\n          reason: CloseReason.SCROLL\n        });\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, [isOpen, overflow, onClose, viewScroll, handlePosition]);\n  useIsomorphicLayoutEffect(() => {\n    if (animation && isMounted) {\n      if (isOpen) {\n        setClosing(false);\n      } else if (isOpen !== prevOpen.current) {\n        setClosing(true);\n      }\n    }\n\n    prevOpen.current = isOpen;\n  }, [animation, isMounted, isOpen]);\n  useEffect(() => {\n    if (!isOpen) {\n      hoverIndexDispatch({\n        type: HoverIndexActionTypes.RESET\n      });\n      if (!animation) setMaxHeight(-1);\n    }\n\n    const id = setTimeout(() => {\n      if (!isOpen || menuRef.current.contains(document.activeElement)) return;\n      menuRef.current.focus();\n\n      if (menuItemFocus.position === FocusPositions.FIRST) {\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.FIRST\n        });\n      } else if (menuItemFocus.position === FocusPositions.LAST) {\n        hoverIndexDispatch({\n          type: HoverIndexActionTypes.LAST\n        });\n      }\n    }, 100);\n    return () => clearTimeout(id);\n  }, [animation, isOpen, menuItemFocus]);\n  const context = useMemo(() => ({\n    isParentOpen: isOpen,\n    hoverIndex,\n    hoverIndexDispatch\n  }), [isOpen, hoverIndex]);\n  const modifiers = {\n    open: isOpen,\n    closing: isClosing,\n    animation,\n    dir: animation && expandedDirection\n  };\n  const userModifiers = Object.freeze({ ...modifiers,\n    dir: expandedDirection\n  });\n  const arrowModifiers = Object.freeze({\n    dir: expandedDirection\n  });\n  let overflowStyles = null;\n\n  if (maxHeight >= 0) {\n    overflowStyles = {\n      maxHeight,\n      overflow\n    };\n  }\n\n  const handlers = attachHandlerProps({\n    onKeyDown: handleKeyDown,\n    onAnimationEnd: handleAnimationEnd\n  }, restProps);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isMounted && /*#__PURE__*/React.createElement(\"ul\", Object.assign({\n    role: \"menu\",\n    tabIndex: \"-1\",\n    \"aria-disabled\": isDisabled,\n    \"aria-label\": ariaLabel\n  }, restProps, handlers, {\n    ref: menuRef,\n    className: bem(menuClass, null, modifiers)(className, userModifiers),\n    style: { ...flatStyles(styles, userModifiers),\n      ...overflowStyles,\n      left: `${menuPosition.x}px`,\n      top: `${menuPosition.y}px`\n    }\n  }), arrow && /*#__PURE__*/React.createElement(\"div\", {\n    className: bem(menuClass, menuArrowClass, arrowModifiers)(arrowClassName),\n    style: { ...flatStyles(arrowStyles, arrowModifiers),\n      left: arrowPosition.x && `${arrowPosition.x}px`,\n      top: arrowPosition.y && `${arrowPosition.y}px`\n    },\n    ref: arrowRef,\n    role: \"presentation\"\n  }), /*#__PURE__*/React.createElement(MenuListContext.Provider, {\n    value: context\n  }, menuItems)));\n}), 'MenuList');\n\nconst useMenuList = (menuListProps, id, animation, debugging, viewScroll, onClick, onClose, skipClick) => {\n  const containerRef = useRef(null);\n  const settings = useMemo(() => ({\n    animation,\n    debugging,\n    viewScroll\n  }), [animation, debugging, viewScroll]);\n  const eventHandlers = useMemo(() => ({\n    handleClick(event, isStopPropagation, isCheckorRadio) {\n      if (!isCheckorRadio || event.key !== Keys.SPACE) {\n        safeCall(onClose, {\n          key: event.key,\n          reason: CloseReason.CLICK\n        });\n      }\n\n      if (!isStopPropagation) safeCall(onClick, event);\n    },\n\n    handleClose(key) {\n      safeCall(onClose, {\n        key,\n        reason: CloseReason.CLICK\n      });\n    }\n\n  }), [onClick, onClose]);\n\n  const handleKeyDown = ({\n    key\n  }) => {\n    switch (key) {\n      case Keys.ESC:\n        safeCall(onClose, {\n          key,\n          reason: CloseReason.CANCEL\n        });\n        break;\n    }\n  };\n\n  const handleBlur = e => {\n    if (menuListProps.isOpen && !e.currentTarget.contains(e.relatedTarget) && !debugging) {\n      safeCall(onClose, {\n        reason: CloseReason.BLUR\n      });\n\n      if (skipClick) {\n        skipClick.current = true;\n        setTimeout(() => skipClick.current = false, 300);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    className: bem(menuContainerClass)(),\n    role: \"presentation\",\n    ref: containerRef,\n    onKeyDown: handleKeyDown,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React.createElement(SettingsContext.Provider, {\n    value: settings\n  }, /*#__PURE__*/React.createElement(EventHandlersContext.Provider, {\n    value: eventHandlers\n  }, /*#__PURE__*/React.createElement(MenuList, Object.assign({}, menuListProps, {\n    containerRef: containerRef,\n    onClose: onClose\n  })))));\n};\n\nconst Menu = /*#__PURE__*/React.memo(function Menu({\n  'aria-label': ariaLabel,\n  id,\n  animation,\n  debugging,\n  viewScroll,\n  keepMounted,\n  menuButton,\n  onClick,\n  onChange,\n  ...restProps\n}) {\n  const {\n    isMounted,\n    isOpen,\n    menuItemFocus,\n    openMenu,\n    closeMenu\n  } = useMenuState(keepMounted);\n  useMenuChange(onChange, isOpen);\n  const skipClick = useRef(false);\n  const buttonRef = useRef(null);\n  const button = safeCall(menuButton, {\n    open: isOpen\n  });\n  if (!button) throw new Error('Menu requires a menuButton prop.');\n  const handleClose = useCallback(e => {\n    closeMenu();\n    if (e.key) buttonRef.current.focus();\n  }, [closeMenu]);\n  const handleClick = useCallback(e => {\n    if (skipClick.current) return;\n    openMenu(e.detail === 0 ? FocusPositions.FIRST : FocusPositions.INITIAL);\n  }, [openMenu]);\n  const handleKeyDown = useCallback(e => {\n    let handled = false;\n\n    switch (e.key) {\n      case Keys.UP:\n        openMenu(FocusPositions.LAST);\n        handled = true;\n        break;\n\n      case Keys.DOWN:\n        openMenu(FocusPositions.FIRST);\n        handled = true;\n        break;\n    }\n\n    if (handled) e.preventDefault();\n  }, [openMenu]);\n  const renderButton = useMemo(() => {\n    const buttonProps = {\n      ref: buttonRef,\n      ...attachHandlerProps({\n        onClick: handleClick,\n        onKeyDown: handleKeyDown\n      }, button.props)\n    };\n\n    if (button.type.__name__ === 'MenuButton') {\n      buttonProps.isOpen = isOpen;\n    }\n\n    return /*#__PURE__*/React.cloneElement(button, buttonProps);\n  }, [button, isOpen, handleClick, handleKeyDown]);\n  const menuList = useMenuList({ ...restProps,\n    ariaLabel: ariaLabel || (typeof button.props.children === 'string' ? button.props.children : 'Menu'),\n    anchorRef: buttonRef,\n    isOpen,\n    isMounted,\n    menuItemFocus\n  }, id, animation, debugging, viewScroll, onClick, handleClose, skipClick);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, renderButton, menuList);\n});\nMenu.propTypes = { ...menuPropTypesBase,\n  keepMounted: PropTypes.bool,\n  menuButton: PropTypes.oneOfType([PropTypes.element, PropTypes.func]).isRequired,\n  onChange: PropTypes.func\n};\nMenu.defaultProps = { ...menuDefaultPropsBase,\n  keepMounted: true\n};\n\nconst ControlledMenu = /*#__PURE__*/React.memo(function ControlledMenu({\n  'aria-label': ariaLabel,\n  id,\n  animation,\n  debugging,\n  viewScroll,\n  onClick,\n  onClose,\n  ...restProps\n}) {\n  return useMenuList({ ...restProps,\n    ariaLabel: ariaLabel || 'Menu'\n  }, id, animation, debugging, viewScroll, onClick, onClose);\n});\nControlledMenu.propTypes = { ...menuPropTypesBase,\n  anchorPoint: PropTypes.exact({\n    x: PropTypes.number,\n    y: PropTypes.number\n  }),\n  anchorRef: PropTypes.object,\n  isOpen: PropTypes.bool,\n  isMounted: PropTypes.bool,\n  menuItemFocus: PropTypes.exact({\n    position: PropTypes.string\n  }),\n  onClose: PropTypes.func\n};\nControlledMenu.defaultProps = { ...menuDefaultPropsBase,\n  isMounted: true,\n  menuItemFocus: {\n    position: FocusPositions.INITIAL\n  }\n};\n\nconst SubMenu = defineName( /*#__PURE__*/React.memo(function SubMenu({\n  'aria-label': ariaLabel,\n  itemClassName,\n  itemStyles,\n  disabled,\n  keepMounted,\n  label,\n  index,\n  onChange,\n  ...restProps\n}) {\n  const {\n    isMounted,\n    isOpen,\n    menuItemFocus,\n    openMenu,\n    closeMenu\n  } = useMenuState(keepMounted);\n  const {\n    isParentOpen,\n    hoverIndex,\n    hoverIndexDispatch\n  } = useContext(MenuListContext);\n  const {\n    debugging\n  } = useContext(SettingsContext);\n  const isHovering = hoverIndex === index;\n  const isDisabled = disabled ? true : undefined;\n  const {\n    isActive,\n    onKeyUp,\n    ...activeStateHandlers\n  } = useActiveState(isHovering, isDisabled, Keys.RIGHT);\n  const containerRef = useRef(null);\n  const itemRef = useRef(null);\n  const timeoutId = useRef();\n  useMenuChange(onChange, isOpen);\n  const handleClose = useCallback(() => {\n    itemRef.current.focus();\n  }, []);\n\n  const handleMouseEnter = () => {\n    if (isDisabled) return;\n    hoverIndexDispatch({\n      type: HoverIndexActionTypes.SET,\n      index\n    });\n    timeoutId.current = setTimeout(() => {\n      timeoutId.current = null;\n      if (isParentOpen) openMenu();\n    }, 300);\n  };\n\n  const handleMouseLeave = () => {\n    clearTimeout(timeoutId.current);\n\n    if (!isOpen) {\n      hoverIndexDispatch({\n        type: HoverIndexActionTypes.UNSET,\n        index\n      });\n    }\n  };\n\n  const handleKeyDown = e => {\n    let handled = false;\n\n    switch (e.key) {\n      case Keys.LEFT:\n        if (isOpen) {\n          handleClose();\n          handled = true;\n        }\n\n        break;\n\n      case Keys.RIGHT:\n        if (!isOpen) handled = true;\n        break;\n    }\n\n    if (handled) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  const handleKeyUp = e => {\n    if (!isActive) return;\n    onKeyUp(e);\n\n    switch (e.key) {\n      case Keys.SPACE:\n      case Keys.ENTER:\n      case Keys.RIGHT:\n        openMenu(FocusPositions.FIRST);\n        break;\n    }\n  };\n\n  const handleBlur = e => {\n    if (debugging) return;\n\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      closeMenu();\n      hoverIndexDispatch({\n        type: HoverIndexActionTypes.UNSET,\n        index\n      });\n    } else if (itemRef.current.contains(e.relatedTarget)) {\n      closeMenu();\n    }\n  };\n\n  useEffect(() => {\n    if (isHovering && isParentOpen) {\n      itemRef.current.focus();\n    } else {\n      closeMenu();\n    }\n  }, [isHovering, isParentOpen, closeMenu]);\n  const modifiers = Object.freeze({\n    open: isOpen,\n    hover: isHovering,\n    active: isActive,\n    disabled: isDisabled\n  });\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: bem(menuClass, subMenuClass)(),\n    role: \"presentation\",\n    ref: containerRef,\n    onKeyDown: handleKeyDown,\n    onBlur: handleBlur\n  }, /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    className: bem(menuClass, menuItemClass, modifiers)(itemClassName),\n    style: flatStyles(itemStyles, modifiers),\n    role: \"menuitem\",\n    \"aria-haspopup\": \"true\",\n    \"aria-expanded\": isOpen,\n    \"aria-disabled\": isDisabled,\n    tabIndex: isHovering && !isOpen ? 0 : -1,\n    ref: itemRef,\n    onMouseEnter: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onClick: () => !isDisabled && openMenu(),\n    onKeyUp: handleKeyUp\n  }, activeStateHandlers), safeCall(label, modifiers)), /*#__PURE__*/React.createElement(MenuList, Object.assign({}, restProps, {\n    ariaLabel: ariaLabel || (typeof label === 'string' ? label : 'Submenu'),\n    anchorRef: itemRef,\n    containerRef: containerRef,\n    isOpen: isOpen,\n    isMounted: isMounted,\n    isDisabled: isDisabled,\n    menuItemFocus: menuItemFocus,\n    onClose: handleClose\n  })));\n}), 'SubMenu');\nSubMenu.propTypes = { ...sharedMenuPropTypes,\n  ...stylePropTypes('item'),\n  disabled: PropTypes.bool,\n  keepMounted: PropTypes.bool,\n  label: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  onChange: PropTypes.func\n};\nSubMenu.defaultProps = { ...sharedMenuDefaultProp,\n  direction: 'right',\n  keepMounted: true\n};\n\nconst MenuItem = defineName( /*#__PURE__*/React.memo(function MenuItem({\n  className,\n  styles,\n  value,\n  href,\n  type,\n  checked,\n  disabled,\n  index,\n  children,\n  onClick,\n  ...restProps\n}) {\n  const {\n    ref,\n    isHovering,\n    isDisabled,\n    setHover,\n    unsetHover\n  } = useItemState(disabled, index);\n  const eventHandlers = useContext(EventHandlersContext);\n  const radioGroup = useContext(RadioGroupContext);\n  const {\n    isActive,\n    onKeyUp,\n    onBlur,\n    ...activeStateHandlers\n  } = useActiveState(isHovering, isDisabled);\n  const isRadio = type === 'radio';\n  const isCheckBox = type === 'checkbox';\n  const isAnchor = href && !isDisabled && !isRadio && !isCheckBox;\n\n  const handleClick = key => {\n    if (isDisabled) return;\n    let isStopPropagation = false;\n    const event = {\n      value,\n      key\n    };\n\n    if (isCheckBox) {\n      event.checked = !checked;\n    }\n\n    if (isRadio) {\n      event.name = radioGroup.name;\n      isStopPropagation = true;\n      safeCall(radioGroup.onChange, event);\n    } else {\n      isStopPropagation = safeCall(onClick, event) === false;\n    }\n\n    eventHandlers.handleClick(event, isStopPropagation, isCheckBox || isRadio);\n  };\n\n  const handleKeyUp = e => {\n    if (!isActive) return;\n    onKeyUp(e);\n\n    switch (e.key) {\n      case Keys.SPACE:\n      case Keys.ENTER:\n        if (isAnchor) {\n          ref.current.click();\n        } else {\n          handleClick(e.key);\n        }\n\n        break;\n    }\n  };\n\n  const handleBlur = e => {\n    onBlur(e);\n\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      unsetHover(e);\n    }\n  };\n\n  const modifiers = Object.freeze({\n    type,\n    disabled: isDisabled,\n    hover: isHovering,\n    active: isActive,\n    checked: isRadio ? radioGroup.value === value : isCheckBox ? !!checked : undefined,\n    anchor: isAnchor\n  });\n  const handlers = attachHandlerProps({ ...activeStateHandlers,\n    onMouseEnter: setHover,\n    onMouseLeave: unsetHover,\n    onKeyUp: handleKeyUp,\n    onBlur: handleBlur,\n    onClick: () => handleClick()\n  }, restProps);\n  const menuItemProps = {\n    role: isRadio ? 'menuitemradio' : isCheckBox ? 'menuitemcheckbox' : 'menuitem',\n    'aria-checked': modifiers.checked,\n    'aria-disabled': isDisabled,\n    tabIndex: isHovering ? 0 : -1,\n    ...restProps,\n    ...handlers,\n    ref,\n    className: bem(menuClass, menuItemClass, modifiers)(className),\n    style: flatStyles(styles, modifiers)\n  };\n  const renderChildren = safeCall(children, modifiers);\n\n  if (isAnchor) {\n    return /*#__PURE__*/React.createElement(\"li\", {\n      role: \"presentation\"\n    }, /*#__PURE__*/React.createElement(\"a\", Object.assign({}, menuItemProps, {\n      href: href\n    }), renderChildren));\n  } else {\n    return /*#__PURE__*/React.createElement(\"li\", menuItemProps, renderChildren);\n  }\n}), 'MenuItem');\nMenuItem.propTypes = { ...stylePropTypes(),\n  value: PropTypes.any,\n  href: PropTypes.string,\n  type: PropTypes.oneOf(['checkbox', 'radio']),\n  checked: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  onClick: PropTypes.func\n};\n\nconst FocusableItem = defineName( /*#__PURE__*/React.memo(function FocusableItem({\n  className,\n  styles,\n  disabled,\n  index,\n  children,\n  ...restProps\n}) {\n  const {\n    ref,\n    isHovering,\n    isDisabled,\n    setHover,\n    unsetHover\n  } = useItemState(disabled, index);\n  const {\n    handleClose\n  } = useContext(EventHandlersContext);\n  const baseParams = {\n    disabled: isDisabled,\n    hover: isHovering\n  };\n  const modifiers = Object.freeze({ ...baseParams,\n    focusable: true\n  });\n  const renderChildren = safeCall(children, { ...baseParams,\n    ref,\n    closeMenu: handleClose\n  });\n\n  const handleBlur = e => {\n    if (!e.currentTarget.contains(e.relatedTarget)) {\n      unsetHover(e);\n    }\n  };\n\n  const handlers = attachHandlerProps({\n    onMouseEnter: setHover,\n    onFocus: setHover,\n    onBlur: handleBlur\n  }, restProps);\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({\n    \"aria-disabled\": isDisabled,\n    role: \"menuitem\",\n    tabIndex: \"-1\"\n  }, restProps, handlers, {\n    className: bem(menuClass, menuItemClass, modifiers)(className),\n    style: flatStyles(styles, modifiers)\n  }), renderChildren);\n}), 'FocusableItem');\nFocusableItem.propTypes = { ...stylePropTypes(),\n  disabled: PropTypes.bool,\n  children: PropTypes.func.isRequired\n};\n\nconst MenuDivider = defineName( /*#__PURE__*/React.memo(function MenuDivider({\n  className,\n  styles,\n  ...restProps\n}) {\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({\n    role: \"separator\"\n  }, restProps, {\n    className: bem(menuClass, menuDividerClass)(className),\n    style: flatStyles(styles)\n  }));\n}), 'MenuDivider');\nMenuDivider.propTypes = { ...stylePropTypes()\n};\n\nconst MenuHeader = defineName( /*#__PURE__*/React.memo(function MenuHeader({\n  className,\n  styles,\n  children,\n  ...restProps\n}) {\n  return /*#__PURE__*/React.createElement(\"li\", Object.assign({\n    role: \"presentation\"\n  }, restProps, {\n    className: bem(menuClass, menuHeaderClass)(className),\n    style: flatStyles(styles)\n  }), children);\n}), 'MenuHeader');\nMenuHeader.propTypes = { ...stylePropTypes()\n};\n\nconst MenuRadioGroup = defineName( /*#__PURE__*/React.memo(function MenuRadioGroup({\n  'aria-label': ariaLabel,\n  className,\n  styles,\n  name,\n  value,\n  children,\n  onChange,\n  ...restProps\n}) {\n  const contextValue = useMemo(() => ({\n    name,\n    value,\n    onChange\n  }), [name, value, onChange]);\n  return /*#__PURE__*/React.createElement(\"li\", {\n    role: \"presentation\"\n  }, /*#__PURE__*/React.createElement(\"ul\", Object.assign({\n    role: \"group\",\n    \"aria-label\": ariaLabel || name || 'Radio group'\n  }, restProps, {\n    className: bem(menuClass, radioGroupClass)(className),\n    style: flatStyles(styles)\n  }), /*#__PURE__*/React.createElement(RadioGroupContext.Provider, {\n    value: contextValue\n  }, children)));\n}), 'MenuRadioGroup');\nMenuRadioGroup.propTypes = { ...stylePropTypes(),\n  'aria-label': PropTypes.string,\n  name: PropTypes.string,\n  value: PropTypes.any,\n  children: PropTypes.node.isRequired,\n  onChange: PropTypes.func\n};\n\nexport { ControlledMenu, FocusableItem, Menu, MenuButton, MenuDivider, MenuHeader, MenuItem, MenuRadioGroup, SubMenu, useMenuState };\n"]},"metadata":{},"sourceType":"module"}